{"ast":null,"code":"const API = \"http://localhost:5000\";\nexport const login = async voterId => {\n  try {\n    const res = await fetch(`${API}/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        voterId\n      })\n    });\n    return await res.json();\n  } catch (error) {\n    return {\n      success: false,\n      message: \"Network error\"\n    };\n  }\n};\nexport const vote = async (voterId, candidate) => {\n  const sessionToken = localStorage.getItem('sessionToken');\n  try {\n    const res = await fetch(`${API}/vote`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        voterId,\n        candidate,\n        sessionToken\n      })\n    });\n    return await res.json();\n  } catch (error) {\n    return {\n      success: false,\n      message: \"Network error\"\n    };\n  }\n};\nexport const logout = async () => {\n  const sessionToken = localStorage.getItem('sessionToken');\n  try {\n    await fetch(`${API}/logout`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        sessionToken\n      })\n    });\n  } catch (error) {\n    console.error(\"Logout error:\", error);\n  } finally {\n    localStorage.removeItem('sessionToken');\n    localStorage.removeItem('userData');\n  }\n};\nexport const results = async () => {\n  try {\n    const res = await fetch(`${API}/results`);\n    const data = await res.json();\n    return data.success ? data.results : {};\n  } catch (error) {\n    return {};\n  }\n};","map":{"version":3,"names":["API","login","voterId","res","fetch","method","headers","body","JSON","stringify","json","error","success","message","vote","candidate","sessionToken","localStorage","getItem","logout","console","removeItem","results","data"],"sources":["C:/Users/TARUN/Desktop/B.Tech/Sem-06/Cyber/smart-voting-system/frontend/voting-ui/src/services.js"],"sourcesContent":["const API = \"http://localhost:5000\";\r\n\r\nexport const login = async (voterId) => {\r\n    try {\r\n        const res = await fetch(`${API}/login`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ voterId })\r\n        });\r\n        return await res.json();\r\n    } catch (error) {\r\n        return { success: false, message: \"Network error\" };\r\n    }\r\n};\r\n\r\nexport const vote = async (voterId, candidate) => {\r\n    const sessionToken = localStorage.getItem('sessionToken');\r\n\r\n    try {\r\n        const res = await fetch(`${API}/vote`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ voterId, candidate, sessionToken })\r\n        });\r\n        return await res.json();\r\n    } catch (error) {\r\n        return { success: false, message: \"Network error\" };\r\n    }\r\n};\r\n\r\nexport const logout = async () => {\r\n    const sessionToken = localStorage.getItem('sessionToken');\r\n\r\n    try {\r\n        await fetch(`${API}/logout`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ sessionToken })\r\n        });\r\n    } catch (error) {\r\n        console.error(\"Logout error:\", error);\r\n    } finally {\r\n        localStorage.removeItem('sessionToken');\r\n        localStorage.removeItem('userData');\r\n    }\r\n};\r\n\r\nexport const results = async () => {\r\n    try {\r\n        const res = await fetch(`${API}/results`);\r\n        const data = await res.json();\r\n        return data.success ? data.results : {};\r\n    } catch (error) {\r\n        return {};\r\n    }\r\n};\r\n"],"mappings":"AAAA,MAAMA,GAAG,GAAG,uBAAuB;AAEnC,OAAO,MAAMC,KAAK,GAAG,MAAOC,OAAO,IAAK;EACpC,IAAI;IACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGJ,GAAG,QAAQ,EAAE;MACpCK,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEP;MAAQ,CAAC;IACpC,CAAC,CAAC;IACF,OAAO,MAAMC,GAAG,CAACO,IAAI,CAAC,CAAC;EAC3B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAO;MAAEC,OAAO,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAgB,CAAC;EACvD;AACJ,CAAC;AAED,OAAO,MAAMC,IAAI,GAAG,MAAAA,CAAOZ,OAAO,EAAEa,SAAS,KAAK;EAC9C,MAAMC,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;EAEzD,IAAI;IACA,MAAMf,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGJ,GAAG,OAAO,EAAE;MACnCK,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEP,OAAO;QAAEa,SAAS;QAAEC;MAAa,CAAC;IAC7D,CAAC,CAAC;IACF,OAAO,MAAMb,GAAG,CAACO,IAAI,CAAC,CAAC;EAC3B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAO;MAAEC,OAAO,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAgB,CAAC;EACvD;AACJ,CAAC;AAED,OAAO,MAAMM,MAAM,GAAG,MAAAA,CAAA,KAAY;EAC9B,MAAMH,YAAY,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;EAEzD,IAAI;IACA,MAAMd,KAAK,CAAC,GAAGJ,GAAG,SAAS,EAAE;MACzBK,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEO;MAAa,CAAC;IACzC,CAAC,CAAC;EACN,CAAC,CAAC,OAAOL,KAAK,EAAE;IACZS,OAAO,CAACT,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;EACzC,CAAC,SAAS;IACNM,YAAY,CAACI,UAAU,CAAC,cAAc,CAAC;IACvCJ,YAAY,CAACI,UAAU,CAAC,UAAU,CAAC;EACvC;AACJ,CAAC;AAED,OAAO,MAAMC,OAAO,GAAG,MAAAA,CAAA,KAAY;EAC/B,IAAI;IACA,MAAMnB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGJ,GAAG,UAAU,CAAC;IACzC,MAAMuB,IAAI,GAAG,MAAMpB,GAAG,CAACO,IAAI,CAAC,CAAC;IAC7B,OAAOa,IAAI,CAACX,OAAO,GAAGW,IAAI,CAACD,OAAO,GAAG,CAAC,CAAC;EAC3C,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZ,OAAO,CAAC,CAAC;EACb;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}